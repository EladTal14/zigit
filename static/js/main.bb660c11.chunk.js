(this.webpackJsonpzigitassisgnment=this.webpackJsonpzigitassisgnment||[]).push([[0],{109:function(e,t,r){},110:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r(22),c=r.n(n),s=r(48),o=r(44),i=r(9),l=r(23),d=r(4),u=r(135),j=r(137),b=r(70),p=r.n(b),h=r(71),O=r.n(h),f=r(140),m=r(141),x=r(142),g=r(138),v=r(69),w=r.n(v),y=r(68),S=r.n(y),k=r(139),P=r(72),C=r.n(P),D=r(17),E=r.n(D),F=r(24),T=r(62),A=r.n(T).a.create({});A.interceptors.request.use((function(e){return localStorage.getItem("token")&&(e.headers.authrization="Bearer ".concat(JSON.parse(localStorage.getItem("token")).token)),e}));var I=function(){var e=Object(F.a)(E.a.mark((function e(t){var r,a,n,c,s;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.email,a=t.password,"https://private-052d6-testapi4528.apiary-mock.com/authenticate",e.next=4,A.post("https://private-052d6-testapi4528.apiary-mock.com/authenticate");case 4:return n=e.sent,c=n.data,(s=c[0]).user={email:r,password:a},localStorage.setItem("userToken",s.token),e.abrupt("return",s);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),_=function(){var e=Object(F.a)(E.a.mark((function e(){var t,r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"https://private-052d6-testapi4528.apiary-mock.com/info",e.next=3,A.get("https://private-052d6-testapi4528.apiary-mock.com/info");case 3:return t=e.sent,(r=t.data).forEach((function(e){e.madeDadeline+=""})),e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=r(8),B=r(31);var H=r(2),L=Object(u.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},margin:{margin:e.spacing(2)},withoutLabel:{marginTop:e.spacing(3)},textField:{width:"30%"},button:{margin:e.spacing(1),width:"30.5%"}}}));function M(){var e=Object(B.b)(),t=Object(N.f)(),r=L(),n=Object(a.useState)({password:"",showPassword:!1,email:""}),c=Object(l.a)(n,2),s=c[0],u=c[1],b=Object(a.useState)(!1),h=Object(l.a)(b,2),v=h[0],y=h[1],P=Object(a.useState)(!1),D=Object(l.a)(P,2),T=D[0],A=D[1];Object(a.useEffect)((function(){var e;y((e=s.email,/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())))}),[s.email]),Object(a.useEffect)((function(){A(function(e){var t=0,r=0;if(e.length<8)return"Password is shorter than 8 letters";for(var a=0;a<e.length;a++){if(!(e.charCodeAt(a)>33&&e.charCodeAt(a)<126))return"Password must be in english";e.charCodeAt(a)>=65&&e.charCodeAt(a)<=90?t++:e.charCodeAt(a)>=48&&e.charCodeAt(a)<=57&&r++}return t?!!r||"Password must have number":"Password must have capital letter"}(s.password))}),[s.password]);var _=function(e){return function(t){u(Object(i.a)(Object(i.a)({},s),{},Object(o.a)({},e,t.target.value)))}};return Object(H.jsxs)("section",{style:{display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(H.jsxs)(j.a,{className:Object(d.a)(r.margin,r.textField),variant:"outlined",children:[Object(H.jsx)(m.a,{htmlFor:"email",children:"Email"}),Object(H.jsx)(f.a,{id:"email",type:"email",value:s.email,error:!0!==v,onChange:_("email"),startAdornment:Object(H.jsx)(x.a,{position:"start",children:Object(H.jsx)(S.a,{})}),labelWidth:40})]}),Object(H.jsx)("div",{style:{marginLeft:"18px",marginTop:"-12px"},children:!v&&"email is not in format"}),Object(H.jsxs)(j.a,{className:Object(d.a)(r.margin,r.textField),variant:"outlined",children:[Object(H.jsx)(m.a,{htmlFor:"password",children:"Password"}),Object(H.jsx)(f.a,{id:"password",type:s.showPassword?"text":"password",value:s.password,error:!0!==T,onChange:_("password"),startAdornment:Object(H.jsx)(x.a,{position:"start",children:Object(H.jsx)(w.a,{})}),endAdornment:Object(H.jsx)(x.a,{position:"end",children:Object(H.jsx)(g.a,{"aria-label":"toggle password visibility",onClick:function(){u(Object(i.a)(Object(i.a)({},s),{},{showPassword:!s.showPassword}))},onMouseDown:function(e){e.preventDefault()},edge:"end",children:s.showPassword?Object(H.jsx)(p.a,{}):Object(H.jsx)(O.a,{})})}),labelWidth:70})]}),Object(H.jsx)("div",{style:{marginLeft:"18px",marginTop:"-9px"},children:1!==T?T:""}),Object(H.jsx)(k.a,{variant:"contained",color:"primary",className:r.button,endIcon:Object(H.jsx)(C.a,{}),disabled:!0!==T||!0!==v,onClick:function(r){var a;r.preventDefault(),e((a=s,function(){var e=Object(F.a)(E.a.mark((function e(t){var r;return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I(a);case 3:r=e.sent,t({type:"SET_USER",userDetails:r}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log("err SET_USER",e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())),t.push("/info")},children:"Login"})]})}var R=r(46);function W(e){var t=e.filter,r=e.setFilter;return Object(H.jsxs)("span",{children:["Search:","",Object(H.jsx)("input",{value:t||"",onChange:function(e){return r(e.target.value)}})]})}function z(e){var t=e.data,r=Object(a.useMemo)((function(){return[{Header:"Name",accessor:"name"},{Header:"Score",accessor:"score"},{Header:"Duration in days",accessor:"durationInDays"},{Header:"Bugs count",accessor:"bugsCount"},{Header:"Made deadline",accessor:"madeDadeline"}]}),[]),n=Object(R.useTable)({columns:r,data:t},R.useGlobalFilter,R.useSortBy),c=n.getTableProps,s=n.getTableBodyProps,o=n.headerGroups,l=n.rows,d=n.prepareRow,u=n.state,j=n.setGlobalFilter,b=u.globalFilter;return Object(H.jsxs)(H.Fragment,{children:[Object(H.jsx)(W,{filter:b,setFilter:j}),Object(H.jsxs)("table",Object(i.a)(Object(i.a)({},c()),{},{style:{border:"solid 1px blue"},children:[Object(H.jsx)("thead",{children:o.map((function(e){return Object(H.jsx)("tr",Object(i.a)(Object(i.a)({},e.getHeaderGroupProps()),{},{children:e.headers.map((function(e){return Object(H.jsxs)("th",Object(i.a)(Object(i.a)({},e.getHeaderProps(e.getSortByToggleProps())),{},{style:{borderBottom:"solid 3px red",background:"aliceblue",color:"black",fontWeight:"bold"},children:[e.render("Header"),Object(H.jsx)("span",{children:e.isSorted?e.isSortedDesc?" \ud83d\udd3d":" \ud83d\udd3c":""})]}))}))}))}))}),Object(H.jsx)("tbody",Object(i.a)(Object(i.a)({},s()),{},{children:l.map((function(e){return d(e),Object(H.jsx)("tr",Object(i.a)(Object(i.a)({},e.getRowProps()),{},{children:e.cells.map((function(e){return Object(H.jsx)("td",Object(i.a)(Object(i.a)({},e.getCellProps()),{},{style:{padding:"10px",border:"solid 1px gray",background:"".concat(e.row.original.score<70?"red":e.row.original.score>90?"green":"yellow")},children:e.render("Cell")}))}))}))}))}))]}))]})}function U(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),r=t[0],n=t[1],c=Object(a.useState)(0),s=Object(l.a)(c,2),o=s[0],i=s[1],d=Object(a.useState)(0),u=Object(l.a)(d,2),j=u[0],b=u[1],p=Object(B.c)((function(e){return e.appModule.user}));Object(a.useEffect)((function(){Object(F.a)(E.a.mark((function e(){return E.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=n,e.next=3,_();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()}),[p]),Object(a.useEffect)((function(){var e=0,t=0;r.forEach((function(r){e+=r.score,"true"===r.madeDadeline&&t++})),i((100*t/r.length).toFixed(2)),b((e/r.length).toFixed(2))}),[r]);var h=Object(a.useMemo)((function(){return r}),[r]);if(0===Object.keys(p).length)return Object(H.jsx)("div",{children:"loading..."});var O=null===p||void 0===p?void 0:p.personalDetails,f=O.name,m=O.Team,x=O.joinedAt,g=O.avatar;return Object(H.jsxs)("div",{style:{margin:"0 auto",display:"flex",flexDirection:"column",alignItems:"center"},children:[Object(H.jsxs)("article",{style:{backgroundColor:"#ab8888",minWidth:489,maxWidth:489,textAlign:"center"},children:[Object(H.jsx)("h1",{children:"User Details"}),Object(H.jsxs)("h2",{children:["Name: ",f]}),Object(H.jsxs)("h3",{children:["Team: ",m]}),Object(H.jsxs)("h4",{children:["Joined at: ",x]}),Object(H.jsx)("img",{src:g,alt:"user"})]}),Object(H.jsxs)("div",{children:["Precentage of project that made the deadline: ",Object(H.jsxs)("span",{style:{color:"".concat(o>50?"green":"red")},children:[o,"%"]})]}),Object(H.jsxs)("div",{children:["Average Score of projects: ",Object(H.jsx)("span",{style:{color:"".concat(j>50?"green":"red")},children:j||0})]}),Object(H.jsx)(z,{data:h,inDeadline:o,setInDeadline:i})]})}r(109);var G=function(){return Object(H.jsx)("div",{className:"App",children:Object(H.jsxs)(N.c,{children:[Object(H.jsx)(N.a,{component:U,path:"/info"}),Object(H.jsx)(N.a,{component:M,path:"/"})]})})},J=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,144)).then((function(t){var r=t.getCLS,a=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;r(e),a(e),n(e),c(e),s(e)}))},X=r(73),Z=r(27),q={user:{}};var V=Object(Z.c)({appModule:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:q,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER":return Object(i.a)(Object(i.a)({},e),{},{user:t.userDetails});default:return e}}}),$=window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__||Z.d,K=Object(Z.e)(V,$(Object(Z.a)(X.a)));c.a.render(Object(H.jsx)(B.a,{store:K,children:Object(H.jsx)(s.a,{children:Object(H.jsx)(G,{})})}),document.getElementById("root")),J()}},[[110,1,2]]]);
//# sourceMappingURL=main.bb660c11.chunk.js.map